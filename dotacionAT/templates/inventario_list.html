{% extends 'layouts/base.html' %}
{% load static %}
{% load humanize %}

{% block content %}
<div class="container mt-4">
    <h2 class="mb-4" style="color: black;">Inventario por Bodega</h2>

    <table class="table table-bordered table-striped">
        <thead class="table-dark">
            <tr>
                <th>Bodega</th>
                <th>Producto</th>
                <th>Total Entradas</th>
                <th>Total Salidas</th>
                <th>Stock Actual</th>
                <th>Última Entrada</th>
                <th>Última Salida</th>
            </tr>
        </thead>
        <tbody>
            {% for item in inventario %}
            <tr style="color: black;">
                <td>{{ item.bodega.nombre }}</td>
                <td>{{ item.producto.nombre }}</td>
                <td>{{ item.entradas|intcomma }}</td>
                <td>{{ item.salidas|intcomma }}</td>
                <td class="{% if item.stock <= 0 %}text-danger{% endif %}">{{ item.stock|intcomma }}</td>
                <td>{{ item.ultima_entrada|date:"d/m/Y H:i" }}</td>
                <td>{{ item.ultima_salida|date:"d/m/Y H:i" }}</td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="7" class="text-center">No hay registros en el inventario.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}